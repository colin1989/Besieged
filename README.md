# Besieged

1. 构建map

2. 坐标转换

3. 触摸分派，zoom层与地图操作层
- 单指按下：选中已高亮的entity 
- 单指滑动：map移动、entity移动 
- 单指抬起：无
- 双指按下：无
- 双指滑动：zoom
- 双指抬起：无

4. autorequire

5. 保存entity格式、表的配置、占地与边的实际大小

6. entity在地图上的实际位置与顶点位置的关系

7. entity拖动时的绿色底板、颜色变动

8. entity拖动时的位移、位置检测、逻辑位置变动
放大时的位置计算
当move时，记录两个触摸点的中心点在map上的位置，然后对zoom层进行缩放操作，缩放后，将刚才记录的中心点转换成世界坐标，并且与开始的中心点世界坐标做差值，即为移动的向量。

9. entity需要消息，添加组件系统

11. 行为树

12. 感知器

13. ECS 架构

14. 对行为分层控制：决策层、请求层、行为层、动作层

15. 寻路、势力图

16. entity偏爱攻击的优先级

